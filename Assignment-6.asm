S SEGMENT PARA PUBLIC 'CODE'
ASSUME CS:S
ORG 1000H

START:
    ;TURN ON CONTROL REGISTER
    MOV AL, 080H
    OUT 1FH,AL
    OUT 1EH,AL
    ;LOOP CONTROL VARIABLE
    MOV BL,0
    
    ;SHOWING OUTPUTS

    ;SSD orange
     MOV AL,0C0H
    OUT 19H,AL

    ;DOT MATRIX
    MOV SI,OFFSET DATA      
L1: MOV AL,BYTE PTR CS:[SI] 
    ;PORT A
    OUT 18H,AL
    INC SI
    MOV AL,BYTE PTR CS:[SI] 
    ;PORT B
    OUT 1AH,AL
    INC SI
    MOV AL,BYTE PTR CS:[SI] 
    ;PORT C
    OUT 1CH,AL
    ;DELAY
    MOV CX,0EFFFH
    L2:LOOP L2

    ;INCREMENT
    INC SI
    INC BL

    ;CHECKING FOR SSD
    CMP BL,004H
    JE SSDR
    CMP BL,007H
     JE SSDG
    CMP BL,00AH
     JE SSDO
	
	
    CMP BL,00CH
    JE LED

DELAY:
    MOV CX,0001H
    L8:LOOP L8
    MOV CX,0001H
    L6:LOOP L6
    JMP L1

;SSD CHANGES
SSDG:
    MOV AL,0C2H
    OUT 19H,AL
    JMP DELAY
SSDO:
    MOV AL,0C0H
    OUT 19H,AL
    JMP DELAY
SSDR:
    MOV AL,088H
    OUT 19H,AL
    JMP DELAY
   
LED:
   MOV BL,0

   MOV SI,OFFSET DATA      
L77: MOV AL,BYTE PTR CS:[SI] 

    ;PORT A
    OUT 18H,AL
    INC SI
    MOV AL,BYTE PTR CS:[SI] 
    ;PORT B
    OUT 1AH,AL
    INC SI
    MOV AL,BYTE PTR CS:[SI] 
    ;PORT C
    OUT 1CH,AL
    ;DELAY

;L10:MOV CX, 05H
;LOOP L10

    ;INCREMENT
    INC SI
    INC BL



    ;CHECKING FOR SSD
    CMP BL,004H
    JE SSDO1
    CMP BL,007H
    JE SSDR1
    CMP BL,00AH
    JE SSDG1


    ;CHECKING FOR LOOP TERMINATION
   CMP BL,00CH
    JE LED


DELAY1:
 JMP L77

;SSD CHANGES
SSDG1:
    JMP DELAY1
SSDO1:
   JMP DELAY1
SSDR1:
    JMP DELAY1

DATA:

;ORANGE
  DB 0EFH
  DB 0EFH
  DB 040H
  
  DB 0DFH
  DB 0DFH
  DB 020H
  
  DB 0BFH
  DB 0BFH
  DB 010H 
  
  DB 07FH
  DB 07FH
  DB 008H
  
  ;RED
  DB 0FFH
  DB 0BFH
  DB 004H
  
  DB 0FFH
  DB 0DFH
  DB 002H
  
  DB 0FFH
  DB 0EFH
  DB 001H
  
  ;GREEN
  
  DB 0F7H
  DB 0FFH
  DB 002H
  
  
  DB 0FBH
  DB 0FFH
  DB 004H
  
  
  DB 0FDH
  DB 0FFH
  DB 008H
  
  
  ;ORANGE
  
  DB 0FBH
  DB 0FBH
  DB 010H
  
  
  DB 0F7H
  DB 0F7H
  DB 020H
  
  
  DB 0EFH
  DB 0EFH
  DB 040H
PL:
	S ENDS
	END START