S SEGMENT PARA PUBLIC 'CODE'
ASSUME CS:S
ORG 1000H

START:

    ;TURN ON CONTROL REGISTER
    MOV AL, 080H
    OUT 1FH,AL
    OUT 1EH,AL
    ;LOOP CONTROL VARIABLE
    MOV BL,0

    ;SEGMENT OFF
    MOV AL,0FFH
    OUT 19H,AL
    
    ;SHOWING OUTPUTS

    ;LED Orange
    MOV AL,00CH
    OUT 1BH,AL

    ;DOT MATRIX
    MOV SI,OFFSET DATA      
L1: MOV AL,BYTE PTR CS:[SI] 
    ;PORT A
    OUT 18H,AL
    INC SI
    MOV AL,BYTE PTR CS:[SI] 
    ;PORT B
    OUT 1AH,AL
    INC SI
    MOV AL,BYTE PTR CS:[SI] 
    ;PORT C
    OUT 1CH,AL
    ;DELAY
    MOV CX,0EFFFH
    L2:LOOP L2

    ;INCREMENT
    INC SI
    INC BL

    ;CHECKING FOR LED
    CMP BL,004H
    JE LEDR
    CMP BL,007H
    JE LEDG
    CMP BL,00AH
    JE LEDO

    ;CHECKING FOR LOOP TERMINATION
    CMP BL,00CH
    JE LED

DELAY:
    MOV CX,0001H
    L8:LOOP L8
    MOV CX,0001H
    L6:LOOP L6
    JMP L1

;SSD CHANGES
LEDG:
    MOV AL,002H
    OUT 1BH,AL
    JMP DELAY
LEDO:
    MOV AL,00CH
    OUT 1BH,AL
    JMP DELAY
LEDR:
    MOV AL,001H
    OUT 1BH,AL
    JMP DELAY

LED:
    MOV BL,0
	MOV SI,OFFSET DATA 
  
L73: MOV AL,BYTE PTR CS:[SI] 
    ;PORT A
    OUT 18H,AL
    INC SI
    MOV AL,BYTE PTR CS:[SI] 
    ;PORT B
    OUT 1AH,AL
    INC SI
    MOV AL,BYTE PTR CS:[SI] 
    ;PORT C
    OUT 1CH,AL

    ;INCREMENT
    INC SI
    INC BL

    ;CHECKING FOR LED
    CMP BL,004H
    JE LEDR1
    CMP BL,007H
    JE LEDG1
    CMP BL,00AH
    JE LEDO1

    ;CHECKING FOR LOOP TERMINATION
    CMP BL,00CH
    JE LED

DELAY1:
    JMP L73

;SSD CHANGES
LEDG1:
    JMP DELAY1
LEDO1:
    JMP DELAY1

LEDR1:
    JMP DELAY1

    
DATA:
;ORANGE
  DB 0EFH
  DB 0EFH
  DB 040H
  
  DB 0DFH
  DB 0DFH
  DB 020H
  
  DB 0BFH
  DB 0BFH
  DB 010H 
  
  DB 07FH
  DB 07FH
  DB 008H
  
  ;RED
  DB 0FFH
  DB 0BFH
  DB 004H
  
  DB 0FFH
  DB 0DFH
  DB 002H
  
  DB 0FFH
  DB 0EFH
  DB 001H
  
  ;GREEN
  
  DB 0F7H
  DB 0FFH
  DB 002H
  
  
  DB 0FAH
  DB 0FFH
  DB 004H
  
  
  DB 0FDH
  DB 0FFH
  DB 008H
  
  
  ;ORANGE
  
  DB 0FBH
  DB 0FBH
  DB 010H
  
  
  DB 0F7H
  DB 0F7H
  DB 020H
  
  
  DB 0EFH
  DB 0EFH
  DB 040H
    
PL:
	S ENDS
	END START